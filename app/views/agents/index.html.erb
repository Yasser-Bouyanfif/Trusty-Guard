<div class="container mt-5">

  <h1> Mes agents </h1>
  <div class="d-flex justify-content-between">

          <%= form_with(url: search_agents_path, method: :get, local: true, class: "d-flex") do |form| %>
          <%= form.text_field :query, placeholder: 'Search by name', class:"form-control me-2 rounded-4" %>
          <%= form.submit "search", class: "btn btn-outline-success rounded-4" %>
          <% if params[:query].present? %>
            <%= link_to "Clear", agents_path, class: "btn btn-outline-danger rounded-4" %>
          <% end %>
          <% end %>


      <%= link_to 'Ajouter un agent', new_agent_path, class: "btn btn-outline-primary rounded-4", role: "button" %>
    </div>

  <br>

  <table class="table table-dark table-hover text-center">
    <thead class="table-dark">
      <tr>
        <th>Id</th>
        <th>Nom</th>
        <th>Pr√©nom</th>
        <th>Date de naissance</th>
        <th>e-mail</th>
        <th>Adresse</th>
        <th>status</th>
        <th colspan="2">Actions</th>
        <th>voir</th>
    </tr>
      </tr>
    </thead>

    <tbody>

      <% @agents.each do |agent| %>
        <tr>
          <td><%= agent.id %></td>
          <td><%= agent.last_name %></td>
          <td><%= agent.first_name %></td>
          <td><%= agent.birth_date %></td>
          <td><%= agent.email %></td>
          <td class="" style="background-color: rgb(33, 37, 41);"><%= agent.address %></td>
          <td><%= agent.status %></td>
          <td colspan="2">
            <%= link_to edit_agent_path(agent) do %>
            <i class="fa-light fa-pen-to-square"></i>
          <% end %>
                      <%= link_to "supprimer", agent_path(agent), data: {turbo_method: :delete, turbo_confirm: 'Are u sure about that ?'} %>

          </td>
          <td><%= link_to 'Voir', agent_path(agent) %></td>
        </tr>
      <% end %>
    </tbody>
  </table>

</div>
